import{u as O,a as q}from"./index-DmKw4XXH.js";/* empty css                  */import{m as E,s as z,v as W,o as J,c as u,a,b as e,h as s,f as t,a0 as K,a1 as Q,L as l,a2 as X,j as d,a3 as x,a4 as Y,a5 as Z,a6 as ee,S as v,A as te,C as g,a7 as oe,G as y,a8 as se,R as ne,F as ae,x as le,q as ie}from"./element-plus-D2VUXABr.js";import{_ as ce,u as de,A as re,a as _e}from"./_plugin-vue_export-helper-ySprrkWw.js";const ue={class:"home-container"},pe={class:"logo-container"},me={key:0,class:"logo-expanded"},fe={key:1,class:"logo-collapsed"},ve={key:0,class:"trigger-text"},ge={class:"header-left"},he={class:"breadcrumb-wrapper"},Ce={class:"page-title"},we={class:"notification-container"},ke={class:"notification-icon"},Ee={class:"notification-content"},xe={class:"notification-message"},ye={__name:"Home",setup(Se){const S=q(),h=O(),{isCollapsed:p,toggle:C,width:A}=de(),D=E(()=>h.path),r=z([]);let _=null,I=0;const L=E(()=>({"/tasks":"ä»»åŠ¡ç®¡ç†","/pipelines":"æµæ°´çº¿ç®¡ç†","/upload":"æ–‡ä»¶ä¸Šä¼ "})[h.path]||"DagFlow"),M=n=>{S.push(n)},w=n=>{const o=r.value.findIndex(m=>m.id===n);o>-1&&r.value.splice(o,1)},B=()=>{_=new EventSource(`${re}${_e.event}`),_.onmessage=n=>{const o={id:I++,message:n.data,type:"info",timestamp:Date.now()};r.value.unshift(o),r.value.length>5&&r.value.pop(),setTimeout(()=>{w(o.id)},5e3)},_.onerror=n=>{console.error("SSEè¿žæŽ¥é”™è¯¯:",n)},_.onopen=()=>{}};return W(()=>{B()}),J(()=>{_&&_.close()}),(n,o)=>{const m=l("List"),c=ee,f=Z,b=l("Connection"),N=l("Upload"),R=Y,T=l("DArrowLeft"),$=l("DArrowRight"),j=X,F=l("Menu"),U=oe,V=l("router-view"),H=se,k=K,P=l("Bell"),G=l("Close");return a(),u("div",ue,[e(k,null,{default:t(()=>[e(j,{width:d(A),class:"app-aside"},{default:t(()=>[s("div",pe,[e(x,{name:"fade",mode:"out-in"},{default:t(()=>[d(p)?(a(),u("div",fe,[...o[2]||(o[2]=[s("span",{class:"logo-emoji"},"ðŸ”„",-1)])])):(a(),u("div",me,[...o[1]||(o[1]=[s("div",{class:"logo-icon-wrapper"},[s("span",{class:"logo-emoji"},"ðŸ”„")],-1),s("div",{class:"logo-text"},[s("h1",{class:"logo-title"},"DagFlow")],-1)])]))]),_:1})]),e(R,{"default-active":D.value,collapse:d(p),"collapse-transition":!1,class:"side-menu",onSelect:M},{default:t(()=>[e(f,{index:"/tasks"},{title:t(()=>[...o[3]||(o[3]=[v("ä»»åŠ¡ç®¡ç†",-1)])]),default:t(()=>[e(c,null,{default:t(()=>[e(m)]),_:1})]),_:1}),e(f,{index:"/pipelines"},{title:t(()=>[...o[4]||(o[4]=[v("æµæ°´çº¿ç®¡ç†",-1)])]),default:t(()=>[e(c,null,{default:t(()=>[e(b)]),_:1})]),_:1}),e(f,{index:"/upload"},{title:t(()=>[...o[5]||(o[5]=[v("æ–‡ä»¶ä¸Šä¼ ",-1)])]),default:t(()=>[e(c,null,{default:t(()=>[e(N)]),_:1})]),_:1})]),_:1},8,["default-active","collapse"]),s("div",{class:"collapse-trigger",onClick:o[0]||(o[0]=(...i)=>d(C)&&d(C)(...i))},[e(c,{class:"trigger-icon"},{default:t(()=>[d(p)?(a(),g($,{key:1})):(a(),g(T,{key:0}))]),_:1}),d(p)?te("",!0):(a(),u("span",ve,"æ”¶èµ·"))])]),_:1},8,["width"]),e(k,{class:"main-container"},{default:t(()=>[e(U,{class:"app-header"},{default:t(()=>[s("div",ge,[s("div",he,[e(c,{class:"page-icon"},{default:t(()=>[e(F)]),_:1}),s("h2",Ce,y(L.value),1)])]),o[6]||(o[6]=s("div",{class:"header-right"},[s("div",{class:"header-actions"})],-1))]),_:1}),e(H,{class:"app-main"},{default:t(()=>[e(V,null,{default:t(({Component:i})=>[e(x,{name:"slide-fade",mode:"out-in"},{default:t(()=>[(a(),g(ne(i),{key:n.$route.path}))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1}),s("div",we,[e(Q,{name:"notification",tag:"div"},{default:t(()=>[(a(!0),u(ae,null,le(r.value,i=>(a(),u("div",{key:i.id,class:ie(["notification-item",`notification-${i.type||"info"}`])},[s("div",ke,[e(c,null,{default:t(()=>[e(P)]),_:1})]),s("div",Ee,[s("p",xe,y(i.message),1)]),e(c,{class:"notification-close",onClick:Ae=>w(i.id)},{default:t(()=>[e(G)]),_:1},8,["onClick"])],2))),128))]),_:1})])])}}},Be=ce(ye,[["__scopeId","data-v-47fd5c65"]]);export{Be as default};
